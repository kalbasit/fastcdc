package fastcdc

// defaultGearTable contains 256 random uint64 values for the Gear hash.
// This is a compile-time constant to enable zero-allocation chunking.
// Values generated using a seeded PRNG for reproducibility.
var defaultGearTable = [256]uint64{
	0x5c95c078, 0x22408989, 0x2d48a214, 0x12842087,
	0x530f8afb, 0x474536b9, 0x2963b4f1, 0x44cb738b,
	0x4ea7403d, 0x4d606b6e, 0x074ec5d3, 0x3af39d18,
	0x726003ca, 0x37a62a74, 0x51a2f58e, 0x7506358e,
	0x5d4ab128, 0x4d4ae17b, 0x41e85924, 0x470c36f7,
	0x4741cbe1, 0x01bb7f30, 0x617c1de3, 0x2b0c3a1f,
	0x50c48f73, 0x21a82d37, 0x6095ace0, 0x419167a0,
	0x3caf49b0, 0x40cea62d, 0x66bc1c66, 0x545e1dad,
	0x2bfa77cd, 0x6e85da24, 0x5fb0bdc5, 0x652cfc29,
	0x3a0ae1ab, 0x2837e0f3, 0x6387b70e, 0x01e2e458,
	0x57261095, 0x5ff1e31d, 0x35ab5b06, 0x4e85f47d,
	0x6ac71e55, 0x5fb7f222, 0x1aec5bdb, 0x0e12e851,
	0x21fd96f3, 0x6d3e6190, 0x24279da6, 0x5ecf68f1,
	0x7cf1eb1b, 0x7e6fa37c, 0x61c9a602, 0x2eaa1eb9,
	0x45c95656, 0x7e7c0b1b, 0x6a77067b, 0x2cb09c15,
	0x1a195f7f, 0x17d0d076, 0x104a6e28, 0x48b1a761,
	0x12bd93da, 0x39f3f8f0, 0x0d53f5b6, 0x7e16f0fa,
	0x52db162a, 0x54ab1bb7, 0x2e7a47db, 0x5e4d4958,
	0x4ea8c668, 0x4f895485, 0x1ead7422, 0x788b655d,
	0x1256b82d, 0x0bedd4eb, 0x6da72e68, 0x360e30de,
	0x2ddc7df9, 0x77b42a82, 0x50f8240f, 0x7f347136,
	0x42e97128, 0x43d7b569, 0x540f977d, 0x0e897e5a,
	0x0aa5f55e, 0x7e69b99e, 0x4a8b6071, 0x3f8f2e9b,
	0x4b14419d, 0x6dbb6ae0, 0x0c5c1553, 0x5ca05e5a,
	0x5b6e7f1c, 0x570e54b9, 0x5d5b7d73, 0x68a2e5b4,
	0x1c7f6f78, 0x21eb988a, 0x6ab9f3c4, 0x6e751f44,
	0x14c7e1a8, 0x02eda8a8, 0x683d883c, 0x52a7b037,
	0x09f55345, 0x41d33f1c, 0x22b96e51, 0x767ac65d,
	0x3e756705, 0x72e6af5c, 0x1ebc9778, 0x0f6dd24c,
	0x15a85947, 0x358de103, 0x640b9d59, 0x5158bee8,
	0x249c2163, 0x30b15e6f, 0x21ec3086, 0x1f70d831,
	0x4f12e10a, 0x0e165423, 0x0e2bfe08, 0x4c23a17f,
	0x3dbb9cc0, 0x66c8a7dc, 0x0adb65e5, 0x0cf74fa5,
	0x72c240c7, 0x51b40e39, 0x72d1bc78, 0x6dd8a373,
	0x42b0f3a8, 0x31fd5a85, 0x0fb82f23, 0x1cafd954,
	0x16e0d5f7, 0x62cad3fb, 0x67ad4d29, 0x67af1e15,
	0x2f37f90c, 0x3ceebf5b, 0x21c0adab, 0x64e87a49,
	0x31c72c6f, 0x6314c239, 0x0c956ed4, 0x5b03e0d0,
	0x2a1360ac, 0x48d74f55, 0x15bbd99a, 0x71e86c66,
	0x47ede93d, 0x4daf059d, 0x4efb874c, 0x70ee1aad,
	0x18b6ae0d, 0x5cdedb37, 0x66e1deb2, 0x60e5d37e,
	0x40a2b2b0, 0x261c18d9, 0x05f0f84d, 0x76c824f9,
	0x50e83c3b, 0x7e89e8b1, 0x07da8bd4, 0x38465b87,
	0x31b088d8, 0x13f9ea89, 0x76d94f0f, 0x3c2a5694,
	0x77c59875, 0x33e56e0f, 0x0d5b2a33, 0x6bb50b4b,
	0x59f24617, 0x7cdd6fe7, 0x3cc22ea8, 0x104dc884,
	0x5a7b8d5b, 0x46e0e0ec, 0x7fd4efc9, 0x35c54c60,
	0x6f9ffdd4, 0x618b4ede, 0x4af9c8e8, 0x2f9de112,
	0x5cd8e98f, 0x292a6e8f, 0x0b84a0db, 0x1bb5fe3e,
	0x16e9a54b, 0x08d00bdb, 0x6d305e7a, 0x2ee11ee2,
	0x65887a12, 0x75ff43aa, 0x51ca80fa, 0x2c88901c,
	0x0c7d7940, 0x3e15dfef, 0x1a94c9be, 0x6c52bcd9,
	0x2f982cdc, 0x42ea545a, 0x04d1581a, 0x4cbb4f8b,
	0x5d59cd1b, 0x47dc86d8, 0x3f0906ee, 0x07825665,
	0x53da85c8, 0x06d5adf2, 0x63ab0f9e, 0x5f13f82c,
	0x63b0ab4a, 0x48af3e6b, 0x63ca7a55, 0x49d33f4d,
	0x494f1d23, 0x5c3e35d4, 0x19b66044, 0x0e8a5dbf,
	0x3bd289d4, 0x5d0bcb48, 0x3ee6f889, 0x76366c93,
	0x37a74b63, 0x109c63e2, 0x67e0737e, 0x3569e80a,
	0x22bb30a1, 0x0b00e16b, 0x673e4e5b, 0x7c0fc8fe,
	0x285b7b74, 0x4e843f70, 0x66e0b4a8, 0x5fd00b6e,
	0x6a905c30, 0x6f5ad0f8, 0x7e5f498c, 0x088cda03,
	0x1e8fc9ba, 0x6a5f170c, 0x2a0fb18c, 0x54e07c51,
	0x671d4bae, 0x00de56e9, 0x1ee489ed, 0x46c3d6f3,
}

// generateTable creates a new Gear hash table with the given seed.
// If seed is 0, returns the default table (no allocation).
// Otherwise, XORs the default table with the seed.
func generateTable(seed uint64) [256]uint64 {
	if seed == 0 {
		return defaultGearTable
	}

	var table [256]uint64
	for i := 0; i < 256; i++ {
		table[i] = defaultGearTable[i] ^ seed
	}

	return table
}
